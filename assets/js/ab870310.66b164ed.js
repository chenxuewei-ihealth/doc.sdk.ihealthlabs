"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4168],{3905:function(e,t,o){o.d(t,{Zo:function(){return d},kt:function(){return f}});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=n.createContext({}),i=function(e){var t=n.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):c(c({},t),e)),o},d=function(e){var t=i(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=i(o),f=r,p=m["".concat(s,".").concat(f)]||m[f]||u[f]||a;return o?n.createElement(p,c(c({ref:t},d),{},{components:o})):n.createElement(p,c({ref:t},d))}));function f(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,c=new Array(a);c[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,c[1]=l;for(var i=2;i<a;i++)c[i]=o[i];return n.createElement.apply(null,c)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},5427:function(e,t,o){o.r(t),o.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return i},toc:function(){return u}});var n=o(7462),r=o(3366),a=(o(7294),o(3905)),c=["components"],l={title:"BG5S",sidebar_position:4},s=void 0,i={unversionedId:"ios/blood_glucose/bg5s",id:"ios/blood_glucose/bg5s",title:"BG5S",description:"WorkFlow",source:"@site/docs/ios/blood_glucose/bg5s.md",sourceDirName:"ios/blood_glucose",slug:"/ios/blood_glucose/bg5s",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_glucose/bg5s",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ios/blood_glucose/bg5s.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"BG5S",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"BG5",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_glucose/bg5"},next:{title:"PO1",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_oxygen/po1"}},d={},u=[{value:"WorkFlow",id:"workflow",level:2},{value:"Connection to device",id:"connection-to-device",level:2},{value:"1.Listen to device notify",id:"1listen-to-device-notify",level:3},{value:"2.Scan for BG5S devices",id:"2scan-for-bg5s-devices",level:3},{value:"3.Connect to BG5S devices",id:"3connect-to-bg5s-devices",level:3},{value:"API reference",id:"api-reference",level:2},{value:"Get status information from BG5S",id:"get-status-information-from-bg5s",level:3},{value:"Set time to BG5S device",id:"set-time-to-bg5s-device",level:3},{value:"Set unit to BG5S device",id:"set-unit-to-bg5s-device",level:3},{value:"Delete used strip of BG5S",id:"delete-used-strip-of-bg5s",level:3},{value:"Get offline data from BG5S",id:"get-offline-data-from-bg5s",level:3},{value:"Delete offline data of BG5S",id:"delete-offline-data-of-bg5s",level:3},{value:"Start measure",id:"start-measure",level:3},{value:"Close Bluetooth",id:"close-bluetooth",level:3},{value:"Correct the measurement time of the offline data according to the flag and return in format JSON String",id:"correct-the-measurement-time-of-the-offline-data-according-to-the-flag-and-return-in-format-json-string",level:3}],m={toc:u};function f(e){var t=e.components,o=(0,r.Z)(e,c);return(0,a.kt)("wrapper",(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"workflow"},"WorkFlow"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Scan and connect BG5S blood glucose monitor.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"BG5S support online and offline measurement."))),(0,a.kt)("h2",{id:"connection-to-device"},"Connection to device"),(0,a.kt)("h3",{id:"1listen-to-device-notify"},"1.Listen to device notify"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(DeviceDiscover:) name:kNotificationNameBG5SDidDiscover object:nil];\n\n[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(DeviceConnectFail:) name:kNotificationNameBG5SConnectFail object:nil];\n\n[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(DeviceConnect:) name:kNotificationNameBG5SConnectSuccess object:nil];\n\n[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(DeviceDisConnect:) name:kNotificationNameBG5SDidDisConnect object:nil];\n\n[BG5SController sharedController];\n")),(0,a.kt)("h3",{id:"2scan-for-bg5s-devices"},"2.Scan for BG5S devices"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"[[ScanDeviceController commandGetInstance] commandScanDeviceType:HealthDeviceType_BG5S];\n")),(0,a.kt)("h3",{id:"3connect-to-bg5s-devices"},"3.Connect to BG5S devices"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"[[ConnectDeviceController commandGetInstance] commandContectDeviceWithDeviceType:HealthDeviceType_BG5S andSerialNub:deviceMac];\n")),(0,a.kt)("h2",{id:"api-reference"},"API reference"),(0,a.kt)("h3",{id:"get-status-information-from-bg5s"},"Get status information from BG5S"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Query BG5S state information including battery value,device date, device timezone, strip used, quantity of offline data, blood code version, CTL code version, unit.\n\n @param stateInfoBlock BG5SStateInfo object\n @param errorBlock the block means fail. You can get error from this block\n @note  If analysis occurs error, BG5SStateInfo object maybe nil or some of its property are nil.\n */\n- (void)queryStateInfoWithSuccess:(BG5SStateInfoBlock)stateInfoBlock\n                       errorBlock:(BG5SSDKErrorBlock)errorBlock;\n\n")),(0,a.kt)("h3",{id:"set-time-to-bg5s-device"},"Set time to BG5S device"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Set time\n\n @param date the date you want to set should be an UTC time. valid range:Jan. 1,2000 - Dec. 31,2099. If date is nil, use [NSdate date] and system time zone\n @param timezone the timezone you want to set should be from -12.00 to 14.00; step length = 0.25\n @param successBlock the block means success\n @param errorBlock the block means fail. You can get error from this block\n @note  If date is out of reange, BG5SError_InputParametersError will be returned by block. \n        If date and timezone are invalid , use input parameters; otherwise use [NSdate date] and system time zone;\n */\n- (void)setTimeWithDate:(NSDate *)date\n               timezone:(float)timezone\n           successBlock:(BG5SSuccessBlock)successBlock\n             errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"set-unit-to-bg5s-device"},"Set unit to BG5S device"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Set unit\n\n @param unit the unit you want to set (BGUnit_mmolPL stands for mmol/L,BGUnit_mgPmL stands for mg/dL)\n @param successBlock the block means success\n @param errorBlock the block means fail. You can get error from this block\n */\n- (void)setUnit:(BGUnit)unit\n   successBlock:(BG5SSuccessBlock)successBlock\n      errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"delete-used-strip-of-bg5s"},"Delete used strip of BG5S"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Delete strip used info (the quantity of strip used is set to 0)\n\n @param successBlock the block means success\n @param errorBlock the block means fail. You can get error from this block\n */\n- (void)deleteStripUsedInfoWithSuccessBlock:(BG5SSuccessBlock)successBlock\n                                  errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"get-offline-data-from-bg5s"},"Get offline data from BG5S"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Query record data stored in BG5S\n\n @param successBlock the block means success; if has record, return non-empty array (BG5SRecordModel object); if no record, return empty array\n @param errorBlock the block means fail. You can get error from this block\n */\n- (void)queryRecordWithSuccessBlock:(BG5SRecordBlock)successBlock\n                          errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"delete-offline-data-of-bg5s"},"Delete offline data of BG5S"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Delete record data stored in BG5S\n \n @param successBlock the block means success\n @param errorBlock the block means fail. You can get error from this block\n */\n- (void)deleteRecordWithSuccessBlock:(BG5SSuccessBlock)successBlock\n                          errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"start-measure"},"Start measure"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Start online measurement with specific measure mode. \n \n @note  If you don't call this method, BG5S use blood mode by default. \n \n If CTL mode is sent, BG5S use CTL mode and BG5S can't be set to use blood mode until next connection.\n @param measureMode Blood or CTL\n @param successBlock the block means success\n @param errorBlock the block means fail. You can get error from this block\n */\n- (void)startMeasure:(BGMeasureMode)measureMode\n    withSuccessBlock:(BG5SSuccessBlock)successBlock\n           errorBlock:(BG5SSDKErrorBlock)errorBlock;\n")),(0,a.kt)("h3",{id:"close-bluetooth"},"Close Bluetooth"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.closeBluetooth();\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_CLOSE_BLUETOOTH.equals(action)) {\n            \n        }\n    } \n}\n")),(0,a.kt)("h3",{id:"correct-the-measurement-time-of-the-offline-data-according-to-the-flag-and-return-in-format-json-string"},"Correct the measurement time of the offline data according to the flag and return in format JSON String"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Correct Measure Date if canCorrect is YES in BG5SRecordModel\n\n @param array BG5SRecordModel objects\n @param deviceDate This date should be read before set time method called.\n @return BG5SRecordModifiedModel objects; return empty array means input parameters is wrong.\n */\n- (NSArray *)processData:(NSArray<BG5SRecordModel*> *)array deviceDate:(NSDate *)deviceDate;\n")))}f.isMDXComponent=!0}}]);