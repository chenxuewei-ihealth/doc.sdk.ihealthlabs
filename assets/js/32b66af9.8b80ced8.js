"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6223],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>p});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(r),p=o,v=u["".concat(l,".").concat(p)]||u[p]||m[p]||a;return r?n.createElement(v,i(i({ref:t},d),{},{components:r})):n.createElement(v,i({ref:t},d))}));function p(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},408:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=r(7462),o=(r(7294),r(3905));const a={title:"KN550",sidebar_position:6},i=void 0,s={unversionedId:"ios/blood_pressure/kn550",id:"ios/blood_pressure/kn550",title:"KN550",description:"Device Version",source:"@site/docs/ios/blood_pressure/kn550.md",sourceDirName:"ios/blood_pressure",slug:"/ios/blood_pressure/kn550",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_pressure/kn550",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ios/blood_pressure/kn550.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"KN550",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"BP7S",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_pressure/bp7s"},next:{title:"KD723",permalink:"/ihealthlabs-sdk-docs/docs/ios/blood_pressure/kd723"}},l={},c=[{value:"Device Version",id:"device-version",level:2},{value:"1. FirmVersion below 2.0.0",id:"1-firmversion-below-200",level:3},{value:"2. FirmVersion 2.0.0",id:"2-firmversion-200",level:3},{value:"3. FirmVersion 2.0.1 and above",id:"3-firmversion-201-and-above",level:3},{value:"WorkFlow",id:"workflow",level:2},{value:"Connection to device",id:"connection-to-device",level:2},{value:"1.Listen to device notify",id:"1listen-to-device-notify",level:3},{value:"2.Scan for KN-550BT devices",id:"2scan-for-kn-550bt-devices",level:3},{value:"3.Connect to KN-550BT devices",id:"3connect-to-kn-550bt-devices",level:3},{value:"API reference",id:"api-reference",level:2},{value:"Get the device battery",id:"get-the-device-battery",level:3},{value:"Get the number of history data",id:"get-the-number-of-history-data",level:3},{value:"Get history data",id:"get-history-data",level:3},{value:"Set local time to KN-550BT",id:"set-local-time-to-kn-550bt",level:3},{value:"Get the KN-550BT display status",id:"get-the-kn-550bt-display-status",level:3},{value:"Set the KN-550BT display status",id:"set-the-kn-550bt-display-status",level:3},{value:"Get KN-550BT time",id:"get-kn-550bt-time",level:3},{value:"History data transfer finished",id:"history-data-transfer-finished",level:3},{value:"Disconnect KN-550BT device",id:"disconnect-kn-550bt-device",level:3}],d={toc:c};function m(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"device-version"},"Device Version"),(0,o.kt)("h3",{id:"1-firmversion-below-200"},"1. FirmVersion below 2.0.0"),(0,o.kt)("p",null,"1.Does not support time adjustment."),(0,o.kt)("p",null,"2.Supports obtaining battery power."),(0,o.kt)("p",null,"3.automatically deleting data after synchronizing historical data."),(0,o.kt)("p",null,"4.After pressing the power button M, the Bluetooth icon will flash on the screen."),(0,o.kt)("h3",{id:"2-firmversion-200"},"2. FirmVersion 2.0.0"),(0,o.kt)("p",null,"1.Does not support time adjustment"),(0,o.kt)("p",null,"2.Does not support obtaining battery power"),(0,o.kt)("p",null,"3.Automatically deletes data after synchronizing historical data"),(0,o.kt)("p",null,"4.After pressing the power button M, there is no Bluetooth icon on the screen, and the Bluetooth icon will only flash after the screen is successfully connected to the mobile device"),(0,o.kt)("h3",{id:"3-firmversion-201-and-above"},"3. FirmVersion 2.0.1 and above"),(0,o.kt)("p",null,"1.The firmware version is 2.0.1 and the isRightTime field is added. This field marks whether the historical data needs time correction (0: no need 1: need correction)\uff09"),(0,o.kt)("p",null,"2.Supports obtaining battery power"),(0,o.kt)("p",null,"3.Historical data must be deleted by calling the delete interface, otherwise historical data will always exist"),(0,o.kt)("p",null,"4.After pressing the power button M, there is no Bluetooth icon on the screen, and the Bluetooth icon will only flash after the screen is successfully connected to the mobile device"),(0,o.kt)("h2",{id:"workflow"},"WorkFlow"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Scan and connect KN-550BT blood pressure monitor.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"KN-550BT only support offline measurement."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"\bintegrate ios",src:r(5322).Z,width:"954",height:"2602"})),(0,o.kt)("h2",{id:"connection-to-device"},"Connection to device"),(0,o.kt)("h3",{id:"1listen-to-device-notify"},"1.Listen to device notify"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceDiscover:) name:KN550BTDiscover object:nil];\n\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceConnectFail:) name:KN550BTConnectFailed object:nil];\n\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceConnect:) name:KN550BTConnectNoti object:nil];\n\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceDisConnect:) name:KN550BTDisConnectNoti object:nil];\n            \n[KN550BTController shareKN550BTController];\n")),(0,o.kt)("h3",{id:"2scan-for-kn-550bt-devices"},"2.Scan for KN-550BT devices"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"[[ScanDeviceController commandGetInstance] commandScanDeviceType:HealthDeviceType_KN550BT];\n")),(0,o.kt)("h3",{id:"3connect-to-kn-550bt-devices"},"3.Connect to KN-550BT devices"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"[[ConnectDeviceController commandGetInstance] commandContectDeviceWithDeviceType:HealthDeviceType_KN550BT andSerialNub:deviceMac];\n")),(0,o.kt)("h2",{id:"api-reference"},"API reference"),(0,o.kt)("h3",{id:"get-the-device-battery"},"Get the device battery"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The KN-550BT doesn't support this feature on firmware 2.0.0."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Query battery remaining energy.\n * @param energyValue  A block to return the device battery remaining energy percentage, \u201880\u2019 stands for 80%.\n * @param error  A block to return the error in \u2018Establish measurement connection\u2019\n */\n-(void)commandEnergy:(BlockEnergyValue)energyValue errorBlock:(BlockError)error;\n")),(0,o.kt)("h3",{id:"get-the-number-of-history-data"},"Get the number of history data"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Upload offline data total Count.\n * @param  totalCount item quantity of total data.\n * @param error  A block to return the error.\n */\n-(void)commandTransferMemoryTotalCount:(BlockBachCount)totalCount errorBlock:(BlockError)error;\n")),(0,o.kt)("h3",{id:"get-history-data"},"Get history data"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"When user use KN-550BT first time and don't set time yet, the device time is not correct.\nand the returned data will contain whether the time need to be set. Version 2.0.1 or above support this feature.\n\uff08The firmware version is 2.0.1 and the isRightTime field is added. This field marks whether the historical data needs time correction (0: no need 1: need correction)\uff09"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Upload offline data.\n * @param  totalCount item quantity of total data\n * @param  progress upload completion ratio , from 0.0 to 1.0 or 0%~100\uff05, 100% means upload completed.\n * @param  uploadDataArray    offline data set, including measurement time, systolic pressure, diastolic pressure, pulse rate, irregular judgment. corresponding KEYs are time, sys, dia, heartRate, irregular.\n * @param error   error codes.\n * Specification:\n *   1.  BPError0 = 0: Unable to take measurements due to arm/wrist movements.\n *   2.  BPError1:  Failed to detect systolic pressure.\n *   3.  BPError2:  Failed to detect diastolic pressure.\n *   4.  BPError3:  Pneumatic system blocked or cuff is too tight during inflation.\n *   5.  BPError4:  Pneumatic system leakage or cuff is too loose during inflation.\n *   6.  BPError5:  Cuff pressure reached over 300mmHg.\n *   7.  BPError6:  Cuff pressure reached over 15 mmHg for more than 160 seconds.\n *   8.  BPError7:  Data retrieving error.\n *   9.  BPError8:  Data retrieving error.\n *   10.  BPError9:  Data retrieving error.\n *   11.  BPError10:  Data retrieving error.\n *   12.  BPError11:  Communication Error.\n *   13.  BPError12:  Communication Error.\n *   14.  BPError13:  Low battery.\n *   15.  BPError14:  Device bluetooth set failed.\n *   16.  BPError15:  Systolic exceeds 260mmHg or diastolic exceeds 199mmHg.\n *   17.  BPError16:  Systolic below 60mmHg or diastolic below 40mmHg.\n *   18.  BPError17:  Arm/wrist movement beyond range.\n *   19.  BPNormalError=30:  device error, error message displayed automatically.\n *   20.  BPOverTimeError:  Abnormal communication.\n *   21.  BPNoRespondError:  Abnormal communication.\n *   22.  BPBeyondRangeError:  device is out of communication range.\n *   23.  BPDidDisconnect:  device is disconnected.\n *   24.  BPAskToStopMeasure:  measurement has been stopped.\n *   25.  BPInputParameterError=400:  Parameter input error.\n *   26.  BPInvalidOperation = 402:  Invalid Operation\n *   27.  BPDeviceErrorUnsupported = 403:  Unsupported\n *   28.  BPDeviceError_CommunicationTimeout = 404:  time out\n    \n */\n-(void)commandTransferMemoryDataWithTotalCount:(BlockBachCount)totalCount progress:(BlockBachProgress)progress dataArray:(BlockBachArray)uploadDataArray errorBlock:(BlockError)error;\n")),(0,o.kt)("h3",{id:"set-local-time-to-kn-550bt"},"Set local time to KN-550BT"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Synchronize time and judge if the device supports the function of up Air Measurement, arm Measurement, Angle Sensor, Angle Setting, HSD, Offline Memory, mutable Groups Upload, Self Upgrade. \u2018True\u2019 means yes or on, \u2018False\u2019 means no or off.\n * @param function  A block to return the function and states that the device supports.\n * @param error  A block to refer \u2018error\u2019 in \u2018Establish measurement connection\u2019 in KN550BT.\n */\n-(void)commandFunction:(BlockDeviceFunction)function errorBlock:(BlockError)error;\n")),(0,o.kt)("h3",{id:"get-the-kn-550bt-display-status"},"Get the KN-550BT display status"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n get status of device display\n\n @param displayStatusBlock feedback status\n @param errorBlock A block to return the error\n */\n-(void)commandGetStatusOfDisplay:(BlockDisplayStatus)displayStatusBlock error:(BlockError)errorBlock;\n")),(0,o.kt)("h3",{id:"set-the-kn-550bt-display-status"},"Set the KN-550BT display status"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n set status of device display\n\n @param backLightOn turn on back light or not\n @param clockOn show clock or not\n @param successBlock This block return means set success\n @param errorBlock A block to return the error\n */\n-(void)commandSetStatusOfDisplayForBackLight:(BOOL)backLightOn andClock:(BOOL)clockOn resultSuccess:(BlockSuccess)successBlock error:(BlockError)errorBlock;\n")),(0,o.kt)("h3",{id:"get-kn-550bt-time"},"Get KN-550BT time"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * Get Device Date.\uff08Firmware version must more than 2.0.1 support this API\uff09\n * @param  date The block return Date      "2020-01-01 08:56:38"\n * @param error   error codes.\n */\n-(void)commandGetDeviceDate:(BlockDeviceDate)date errorBlock:(BlockError)error;\n')),(0,o.kt)("h3",{id:"history-data-transfer-finished"},"History data transfer finished"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"After history data transfer is finished, this API will help you to clear the history data.\nOnly Firmware 2.0.1 and above supprt this feature. other firmware KN-550BT can clear history data automatically."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Delete offline data.\uff08Firmware version must more than 2.0.1 support this API\uff09\n * @param  result The block return \u2018YES\u2019 means delete sucess, return \u2018NO\u2019 means delete fail.\n * @param error   error codes.\n */\n-(void)commandDeleteMemoryDataResult:(BlockResult)result errorBlock:(BlockError)error;\n")),(0,o.kt)("h3",{id:"disconnect-kn-550bt-device"},"Disconnect KN-550BT device"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Disconnect current device\n */\n-(void)commandDisconnectDevice;\n")))}m.isMDXComponent=!0},5322:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/iOS_550BT_1-37c8684e9d43ee37f53d80c44796e481.png"}}]);