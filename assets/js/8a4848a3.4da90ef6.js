"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6040],{3905:(e,t,n)=>{n.d(t,{Zo:()=>g,kt:()=>v});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},g=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),u=c(n),v=i,m=u["".concat(s,".").concat(v)]||u[v]||d[v]||o;return n?a.createElement(m,r(r({ref:t},g),{},{components:n})):a.createElement(m,r({ref:t},g))}));function v(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},3721:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),i=(n(7294),n(3905));const o={title:"BG5S",sidebar_position:4},r=void 0,l={unversionedId:"android/blood_glucose/bg5s",id:"android/blood_glucose/bg5s",title:"BG5S",description:"1. BG5S is a low-power Bluetooth glucose meter with indicator lights, a screen and button.",source:"@site/docs/android/blood_glucose/bg5s.mdx",sourceDirName:"android/blood_glucose",slug:"/android/blood_glucose/bg5s",permalink:"/ihealthlabs-sdk-docs/docs/android/blood_glucose/bg5s",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/android/blood_glucose/bg5s.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"BG5S",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"BG5",permalink:"/ihealthlabs-sdk-docs/docs/android/blood_glucose/bg5"},next:{title:"BG1A",permalink:"/ihealthlabs-sdk-docs/docs/android/blood_glucose/bg1a"}},s={},c=[{value:"Connection to device",id:"connection-to-device",level:2},{value:"1.Listen to device notify",id:"1listen-to-device-notify",level:3},{value:"2.Scan for BG5S devices",id:"2scan-for-bg5s-devices",level:3},{value:"3.Connect to BG5S devices",id:"3connect-to-bg5s-devices",level:3},{value:"API reference",id:"api-reference",level:2},{value:"Get status information from BG5S",id:"get-status-information-from-bg5s",level:3},{value:"Set offline measurement mode",id:"set-offline-measurement-mode",level:3},{value:"Set time to BG5 device",id:"set-time-to-bg5-device",level:3},{value:"Set unit to BG5S device",id:"set-unit-to-bg5s-device",level:3},{value:"Set BG5S display mode",id:"set-bg5s-display-mode",level:3},{value:"Delete number of test strips used.",id:"delete-number-of-test-strips-used",level:3},{value:"Delete offline data of BG5S",id:"delete-offline-data-of-bg5s",level:3},{value:"Get offline data from BG5S",id:"get-offline-data-from-bg5s",level:3},{value:"Start measure",id:"start-measure",level:3},{value:"Correct date of offline data",id:"correct-date-of-offline-data",level:3}],g={toc:c};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ol",{parentName:"div"},(0,i.kt)("li",{parentName:"ol"},"BG5S is a low-power Bluetooth glucose meter with indicator lights, a screen and button."),(0,i.kt)("li",{parentName:"ol"},"When you use BG5S for first time or haven't used it for a long time, Please charge it for 2~4 hours to make BG5S have enough power, and then start using it."),(0,i.kt)("li",{parentName:"ol"},"The BG5S support two way to turn on. One is turn on by inserting test strip, the other is turn on by pressing button. "),(0,i.kt)("li",{parentName:"ol"},"BG5S support online measurement and offline measurement. "),(0,i.kt)("li",{parentName:"ol"},"Once the device is turned on, it begins Bluetooth broadcasting and can be scanned and connected to by the app.")))),(0,i.kt)("h2",{id:"connection-to-device"},"Connection to device"),(0,i.kt)("h3",{id:"1listen-to-device-notify"},"1.Listen to device notify"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"private iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    \n    @Override\n    public void onScanDevice(String mac, String deviceType, int rssi, Map manufactorData) { }\n\n    @Override\n    public void onDeviceConnectionStateChange(String mac, String deviceType, int status, int errorID, Map manufactorData){ }\n\n    @Override\n    public void onScanError(String reason, long latency) { }\n\n    @Override\n    public void onScanFinish() { }\n\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) { }\n}\nint callbackId = iHealthDevicesManager.getInstance().registerClientCallback(miHealthDevicesCallback);\niHealthDevicesManager.getInstance().addCallbackFilterForDeviceType(callbackId, iHealthDevicesManager.TYPE_BG5S);\niHealthDevicesManager.getInstance().addCallbackFilterForAddress(callbackId, String... macs)\n")),(0,i.kt)("h3",{id:"2scan-for-bg5s-devices"},"2.Scan for BG5S devices"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"iHealthDevicesManager.getInstance().startDiscovery(DiscoveryTypeEnum.BG5S);\n")),(0,i.kt)("h3",{id:"3connect-to-bg5s-devices"},"3.Connect to BG5S devices"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'iHealthDevicesManager.getInstance().connectDevice("", mac, iHealthDevicesManager.TYPE_BG5S)\nBg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n')),(0,i.kt)("h2",{id:"api-reference"},"API reference"),(0,i.kt)("h3",{id:"get-status-information-from-bg5s"},"Get status information from BG5S"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.getStatusInfo();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_GET_STATUS_INFO.equals(action)) {\n            try {\n                JSONObject obj = new JSONObject(message);\n                \n                // The battery level of BG5S.\n                int batteryLevel = obj.getInt(Bg5sProfile.INFO_BATTERY_LEVEL);\n                \n                // The time of BG5S.\n                String timeStr = obj.getString(Bg5sProfile.INFO_TIME);\n                \n                // The timezone of BG5S.\n                int timeZone = obj.getInt(Bg5sProfile.INFO_TIMEZONE);\n\n                // The number of test strips used.\n                int usedStrip = obj.getInt(Bg5sProfile.INFO_USED_STRIP);\n                \n                // The number of offline data.\n                int offlineDataNum = obj.getInt(Bg5sProfile.INFO_OFFLINE_DATA_NUM);\n                \n                // The code version of strip.\n                int mCodeVersionBlood = obj.getInt(Bg5sProfile.INFO_CODE_VERSION_BLOOD);\n                \n                // The code version of control solution strip.\n                int mCodeVersionCTL = obj.getInt(Bg5sProfile.INFO_CODE_VERSION_CTL);\n                \n                // The unit of BG5S.\n                int unit = obj.getInt(Bg5sProfile.INFO_UNIT);\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }    \n        }\n    } \n}\n")),(0,i.kt)("h3",{id:"set-offline-measurement-mode"},"Set offline measurement mode"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n/**\n * @param enable enable offline measurement.\n */\ncontrol.setOfflineMeasurementMode(boolean enable);\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_SET_OFFLINE_MEASUREMENT_MODE.equals(action)) { \n            Log.i("", "Set offline measurement mode");\n        }\n    } \n}\n')),(0,i.kt)("h3",{id:"set-time-to-bg5-device"},"Set time to BG5 device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * @param date \n * @param timeZone\n */\nBg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.setTime(Date date, float timeZone);\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_SET_TIME.equals(action)) {\n           Log.i("", "Set time success");\n        } \n    } \n}\n')),(0,i.kt)("h3",{id:"set-unit-to-bg5s-device"},"Set unit to BG5S device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n/**\n * @param unitType the unit type set to BG5S: Bg5sProfile.UNIT_MMOL; Bg5sProfile.UNIT_MG    \n */\ncontrol.setUnit(int type);\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_SET_UNIT.equals(action)) {\n            Log.i("", "Set unit success");\n        } \n    } \n}\n')),(0,i.kt)("h3",{id:"set-bg5s-display-mode"},"Set BG5S display mode"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n/**\n * @param mode enable display mode.\n */\ncontrol.setDisplayMode(boolean mode);\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_SET_DISPLAY_MODE.equals(action)) {\n           Log.i("", "Set display mode success");\n        } \n    } \n}\n')),(0,i.kt)("h3",{id:"delete-number-of-test-strips-used"},"Delete number of test strips used."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.deleteUsedStrip();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_DELETE_USED_STRIP.equals(action)) {\n           Log.i("", "Delete success");\n        } \n    } \n}\n')),(0,i.kt)("h3",{id:"delete-offline-data-of-bg5s"},"Delete offline data of BG5S"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.deleteOfflineData();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_DELETE_OFFLINE_DATA.equals(action)) {\n           Log.i("", "Delete success");\n        } \n    } \n}\n')),(0,i.kt)("h3",{id:"get-offline-data-from-bg5s"},"Get offline data from BG5S"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\ncontrol.getOfflineData();\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_GET_OFFLINE_DATA.equals(action)) {\n            try {\n                JSONObject obj = new JSONObject(message);\n                JSONArray historyArr = obj.getgetJSONArray(Bg5sProfile.OFFLINE_DATA);\n                for (int i = 0; i < historyArr.length(); i++) {\n                    JSONObject obj = historyArr.getJSONObject(i);\n                    boolean dateStr = obj.getBoolean(Bg5sProfile.DATA_TIME_PROOF);\n                    int value = obj.getString(Bg5sProfile.DATA_VALUE);\n                    String time = obj.getString(Bg5sProfile.DATA_MEASURE_TIME);\n                    float timezone = obj.getString(Bg5sProfile.DATA_MEASURE_TIMEZONE);\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    } \n}\n")),(0,i.kt)("h3",{id:"start-measure"},"Start measure"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n/**\n * @param measureType the measure type set to BG5S.Bg5sProfile.MEASURE_BLOOD Bg5sProfile.MEASURE_CTL\n */\ncontrol.startMeasure(int measureType);\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (Bg5sProfile.ACTION_START_MEASURE.equals(action)) {\n            Log.i("start a measure")\n\n        } else if (Bg5sProfile.ACTION_STRIP_IN.equals(action)) {\n            Log.i("test strip in")\n\n        } else if (Bg5sProfile.ACTION_GET_BLOOD.equals(action)) {\n            Log.i("test drop blood")\n\n        } else if (Bg5sProfile.ACTION_RESULT.equals(action)) {\n            try {\n                JSONObject obj = new JSONObject(message);\n                int value = obj.getInt(Bg5sProfile.RESULT_VALUE);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        } else if (Bg5sProfile.ACTION_STRIP_OUT.equals(action)) {\n            Log.i("test strip out")\n        }\n    } \n}\n')),(0,i.kt)("h3",{id:"correct-date-of-offline-data"},"Correct date of offline data"),(0,i.kt)("p",null,"When you use BG5S for first time or haven't used it for a long time, before you take an offline measurement,\nyou need to connect your phone to sync the time. But if you forget to sunc the time and take an offline measurement,\nthis API can correct the time."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"Bg5sControl control = iHealthDevicesManager.getInstance().getBg5sControl(mDeviceMac);\n/**\n * @param timeString The device time from getStatusInfo API\n * @param originData The origin data from getOfflineData API\n * @return Correct offline data\n */\nString newOfflineData = control.adjustOfflineData(String timeString, String originData);\n")))}d.isMDXComponent=!0}}]);