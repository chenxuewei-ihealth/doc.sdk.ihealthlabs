"use strict";(self.webpackChunkdoc_sdk=self.webpackChunkdoc_sdk||[]).push([[709],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),s=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=s(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),h=r,m=p["".concat(c,".").concat(h)]||p[h]||u[h]||i;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},8976:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return d},default:function(){return p}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={},c="Android",s={unversionedId:"get-started/android",id:"get-started/android",isDocsHomePage:!1,title:"Android",description:"Installation",source:"@site/docs/get-started/android.md",sourceDirName:"get-started",slug:"/get-started/android",permalink:"/doc.sdk.ihealthlabs/docs/get-started/android",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/get-started/android.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Introduction to iHealth SDK",permalink:"/doc.sdk.ihealthlabs/docs/intro"},next:{title:"iOS",permalink:"/doc.sdk.ihealthlabs/docs/get-started/ios"}},d=[{value:"Installation",id:"installation",children:[{value:"Using npm",id:"using-npm",children:[]},{value:"Using yarn",id:"using-yarn",children:[]}]},{value:"Usage",id:"usage",children:[{value:"Authentication",id:"authentication",children:[]},{value:"Troubleshooting",id:"troubleshooting",children:[]},{value:"Example",id:"example",children:[]}]}],u={toc:d};function p(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"android"},"Android"),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("h3",{id:"using-npm"},"Using npm"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"npm install --save @ihealth/ihealthlibrary-react-native\n")),(0,i.kt)("h3",{id:"using-yarn"},"Using yarn"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"yarn add @ihealth/ihealthlibrary-react-native\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("h3",{id:"authentication"},"Authentication"),(0,i.kt)("h4",{id:"download-license-file"},"Download license file"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Sign up iHealth developer webside. ",(0,i.kt)("a",{parentName:"li",href:"https://dev.ihealthlabs.com"},"Please sign up here")),(0,i.kt)("li",{parentName:"ol"},'Press "Add New App" button, fill in your information of your app. We will get email and active the license for your app.'),(0,i.kt)("li",{parentName:"ol"},"Download license file, as shown below.\n",(0,i.kt)("img",{alt:"Download",src:n(6043).Z}))),(0,i.kt)("h4",{id:"integrate-license-file"},"Integrate license file"),(0,i.kt)("p",null,"For iOS\nAs shown below, Add your license file to your iOS project.\n",(0,i.kt)("img",{alt:"\bintegrate ios",src:n(3496).Z})),(0,i.kt)("p",null,"For Android\nAs show below, Add your license file to your asserts \x03folder.\n",(0,i.kt)("img",{alt:"\bintegrate android",src:n(9992).Z})),(0,i.kt)("h4",{id:"using-license-file"},"Using license file"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { iHealthDeviceManagerModule } from '@ihealth/ihealthlibrary-react-native';\n\n// your license file\nconst filename = 'license.pem';\niHealthDeviceManagerModule.sdkAuthWithLicense(filename);\n")),(0,i.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,i.kt)("h4",{id:"for-android"},"For Android"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Check settings.gradle file in your android project and node_modules, make sure input the correct module path.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-gradle"},"include ':ihealthlibrary-react-native'\nproject(':ihealthlibrary-react-native').projectDir = new File(rootProject.projectDir,'../node_modules/@ihealth/ihealthlibrary-react-native/android')\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Check build.gradle file in your android project, make sure the ihealth module is \bintegrated")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-gradle"},"compile project(':@ihealth_ihealthlibrary-react-native')\n")),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Import iHealth module in your MainActivity.java")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"protected List<ReactPackage> getPackages() {  \n    return Arrays.<ReactPackage>asList(\n        new MainReactPackage(),\n        new iHealthDeviceManagerPackage()\n    );  \n}\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Location permission(in AndroidManifest.xml)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- Need ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission in Android API 23+ --\x3e\n<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />\n')),(0,i.kt)("h4",{id:"for-ios"},"For iOS"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open your iOS project, add node_modules/@ihealth/ihealthlibrary-react-native/ios/ReactNativeIOSLibrary.xcodeproj to libraries"),(0,i.kt)("li",{parentName:"ol"},"Under 'Build Phases' --  'Link Binary With Libraries', add libReactNativeIOSLibrary.a")),(0,i.kt)("h3",{id:"example"},"Example"),(0,i.kt)("p",null,"iHealth SDK module is based on DeviceEventEmitter, So call add listener while the component is loaded, and call remove listener while the component is unloaded, As show as below. If you want more detail information, Please the example code."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"componentDidMount() {\n    iHealthAPI.addListener();\n}\n\ncomponentWillUnmount() {\n    iHealthAPI.removeListener();\n}\n")),(0,i.kt)("h4",{id:"for-bluetooth-le-or-regular-bluetooth-device"},"For bluetooth LE or regular bluetooth device"),(0,i.kt)("h5",{id:"search-device"},"search device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { iHealthDeviceManagerModule } from '@ihealth/ihealthlibrary-react-native';\nconst type = 'BP5'; // AM3S, AM4, BG5, BG5S, BP3L, BP5, BP5S, BP7S, HS2, HS4S, PO3,HS2S,BG1S\niHealthDeviceManagerModule.startDiscovery(type);\n")),(0,i.kt)("h5",{id:"connect-device"},"connect device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { iHealthDeviceManagerModule } from '@ihealth/ihealthlibrary-react-native';\nconst mac = 'xxxxxxxxxxxxxx';\nconst type = 'BP5'; // AM3S, AM4, BG5, BG5S, BP3L, BP5, BP5S, BP7S, HS2, HS4S, PO3,HS2S,BG1S\niHealthDeviceManagerModule.connectDevice(mac, type);\n")))}p.isMDXComponent=!0},6043:function(e,t,n){t.Z=n.p+"assets/images/download-fcfcb4c73e12a61915d3e65a6222832d.png"},9992:function(e,t,n){t.Z=n.p+"assets/images/integrate-android-ad16a56652c7c446d8e029203a75005f.png"},3496:function(e,t,n){t.Z=n.p+"assets/images/integrate-ios-0d75639a473e3ff9c886346c48b0abb4.png"}}]);