"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7797],{3905:function(e,n,r){r.d(n,{Zo:function(){return u},kt:function(){return m}});var t=r(7294);function s(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){s(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function a(e,n){if(null==e)return{};var r,t,s=function(e,n){if(null==e)return{};var r,t,s={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(s[r]=e[r]);return s}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=t.createContext({}),c=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},u=function(e){var n=c(e.components);return t.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,s=e.mdxType,o=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=c(r),m=s,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return r?t.createElement(h,i(i({ref:n},u),{},{components:r})):t.createElement(h,i({ref:n},u))}));function m(e,n){var r=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var o=r.length,i=new Array(o);i[0]=d;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a.mdxType="string"==typeof e?e:s,i[1]=a;for(var c=2;c<o;c++)i[c]=r[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}d.displayName="MDXCreateElement"},4832:function(e,n,r){r.r(n),r.d(n,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return p}});var t=r(7462),s=r(3366),o=(r(7294),r(3905)),i=["components"],a={title:"HS5",sidebar_position:5},l=void 0,c={unversionedId:"ios/scale/hs5",id:"ios/scale/hs5",title:"HS5",description:"WorkFlow",source:"@site/docs/ios/scale/hs5.md",sourceDirName:"ios/scale",slug:"/ios/scale/hs5",permalink:"/ihealthlabs-sdk-docs/docs/ios/scale/hs5",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/ios/scale/hs5.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"HS5",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"HS4S",permalink:"/ihealthlabs-sdk-docs/docs/ios/scale/hs4s"},next:{title:"HS5S",permalink:"/ihealthlabs-sdk-docs/docs/ios/scale/hs5s"}},u={},p=[{value:"WorkFlow",id:"workflow",level:2},{value:"Connection to device",id:"connection-to-device",level:2},{value:"1.Listen to device notify",id:"1listen-to-device-notify",level:3},{value:"2.Scan for HS5(WIFI) devices",id:"2scan-for-hs5wifi-devices",level:3},{value:"3.Connect to HS5(WIFI) devices",id:"3connect-to-hs5wifi-devices",level:3},{value:"API reference",id:"api-reference",level:2},{value:"Set the wifi information to the scale(Bluetooth)",id:"set-the-wifi-information-to-the-scalebluetooth",level:3},{value:"Establish memory and measurement connection",id:"establish-memory-and-measurement-connection",level:3},{value:"Create new user",id:"create-new-user",level:3},{value:"Edit User Info",id:"edit-user-info",level:3},{value:"Delete Specified User",id:"delete-specified-user",level:3},{value:"Create memory upload connection",id:"create-memory-upload-connection",level:3},{value:"Establish Measurement Connection",id:"establish-measurement-connection",level:3},{value:"Stop Current Action and disconnect",id:"stop-current-action-and-disconnect",level:3},{value:"Delete current Auten Device and then rebuild connection.",id:"delete-current-auten-device-and-then-rebuild-connection",level:3},{value:"Rebuild UDP connection",id:"rebuild-udp-connection",level:3}],d={toc:p};function m(e){var n=e.components,r=(0,s.Z)(e,i);return(0,o.kt)("wrapper",(0,t.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"workflow"},"WorkFlow"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"The HS5 is Wifi body fat scale. If you've already set up wifi information, please jump to step 2. If you need to set wifi information, please scan and connect HS5(Bluetooth) scale.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Call funtion "setWifi" for setting wifi information to HS5(Bluetooth) scale.')),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"HS5 support online measurement and offline measurement."))),(0,o.kt)("h2",{id:"connection-to-device"},"Connection to device"),(0,o.kt)("h3",{id:"1listen-to-device-notify"},"1.Listen to device notify"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceConnectForHS5:) name:HS5ConnectNoti object:nil];\n\n[[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(DeviceDisConnectForHS5:) name:HS5DisConnectNoti object:nil];\n\n[HS5Controller shareIHHs5Controller];\n")),(0,o.kt)("h3",{id:"2scan-for-hs5wifi-devices"},"2.Scan for HS5(WIFI) devices"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n[[ScanDeviceController commandGetInstance] commandScanDeviceType:HealthDeviceType_HS5];\n\n")),(0,o.kt)("h3",{id:"3connect-to-hs5wifi-devices"},"3.Connect to HS5(WIFI) devices"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\nHS5 is a wifi connection. After the automatic connection is successful, an automatic connection successful notification will be sent.\n")),(0,o.kt)("h2",{id:"api-reference"},"API reference"),(0,o.kt)("h3",{id:"set-the-wifi-information-to-the-scalebluetooth"},"Set the wifi information to the scale(Bluetooth)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"Hs5ControlForBt control = iHealthDevicesManager.getInstance().getHs5ControlForBt(mDeviceMac);\ncontrol.setWifi(String ssid, int type, String pw)() \n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'// Return value\nprivate iHealthDevicesCallback miHealthDevicesCallback = new iHealthDevicesCallback() {\n    @Override\n    public void onDeviceNotify(String mac, String deviceType, String action, String message) {\n        if (HsProfile.ACTION_SETTINGWIFI.equals(action)) {\n            Log.i("", "setting wifi");\n        } else if (HsProfile.ACTION_SETWIFI_SUCCESS.equals(action) {\n            Log.i("", "set wifi success");\n        } else if (HsProfile.ACTION_SETWIFI_FAIL.equals(action) {\n            Log.i("", "set wifi fail");\n        } else if (HsProfile.ACTION_SETWIFI_UNKNOW.equals(action) {\n            Log.i("", "set wifi unknow");\n        }\n    } \n}\n')),(0,o.kt)("h3",{id:"establish-memory-and-measurement-connection"},"Establish memory and measurement connection"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n Establish memory and measurement connection\n \nImport Parameters:\n @param tempUser included properties: userAccount\u3001clientID\u3001clientSecret\u3002\n   userAccount: either email or mobile phone number (mobile phone number is not currently supported yet)\n   height: the height of a user (cm);\n   clientID & clientSecret: the only identification for users of the SDK, requires registration from iHealth administrator, please email: heguangming@ihealthlabs.com.cn for more information.\n \n Return Parameters:\n The measurement via SDK will be operated in the case of 1-3, and will be terminated if any of 4-8 occurs. The interface needs to be re-called after analyzing the return parameters.\n Notice: when a new user registers via SDK, an \u2018iHealth disclaimer\u2019 will pop up automatically, and will require the user to agree in order to continue. SDK applications require an Internet connection; UserAuthen_TrySuccess is invalidate for HS5.\n @param serialNub The only identification of a user\uff0cshould be reserved in third party apps\uff0cprovide to other Apps [Range:0~0xFFFFFFF]\n @param MemorryUserListHS5Data Existing user info in HS5\uff0cincluding serialNub\u3001Position of users. Related key: serialNumber\u3001position\n @param disposeErrorBlock error codes in transmission process: Errors in HS5\n */\n-(void)commandCreateUserManageConnectWithUser:(HealthUser *)tempUser  currentUserSerialNub:(CurrentSerialNub)serialNub deviceUserList:(MemorryUserListHS5Data) MemorryUserListHS5Data Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n")),(0,o.kt)("h3",{id:"create-new-user"},"Create new user"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n  * Create new user\n  * Use the function if the SerialNub of current user is not included in user list of HS5 and the user number is less than 20\n  * Import parameters:\n    * @param tempUser  - included properties: serialNub\u3001age\u3001birthday\u3001height\u3001isAthlete\u3001sex\u3002\n    *  serialNub: The only identification for user [Range:0~0x7FFFFFFF]\n    *  age:user's age  Range:7~99\n    *  birthday: User\u2019s birthday, NSDate\n    *  height: User\u2019s height, (cm) Range:81~219\n    *  isAthlete: If user is an athelete, UserIsAthelete_No: no, UserIsAthelete_Yes: Yes\n    *  sex: User\u2019s sex, UserSex_Female: female, UserSex_Male: male\n    * @param tempPosition  - Position of user, range: 0\uff5e19, pick from empty position that has never been occupied\n * Return Parameters\uff1a\n    * @param disposeHS5Result  - Success:Yes\uff0cFail:No.\n    * @param disposeErrorBlock  - error codes in transmission process: Errors in HS5\n*/\n-(void)commandCreateUser:(HealthUser *)tempUser position:(uint8_t )tempPosition DisposeHS5Result:(DisposeHS5Result)disposeHS5Result Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n\n")),(0,o.kt)("h3",{id:"edit-user-info"},"Edit User Info"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Edit User Info\n * If the SerialNub of current user already exists in the user list of HS5, this will be used when user info is changed.\n *Import Parameters\uff1a\n    * @param tempUser  - included properties\uff1a serialNub\u3001birthday\u3001height\u3001isAthlete\u3001sex\uff0cinstructions refer to \u201cnew user Api\u201d.\n *Return Parameters\uff1a\n    * @param disposeHS5Result  - Success:Yes\uff0cFail:No.\n    * @param disposeErrorBlock  - error codes in transmission process: Errors in HS5\n */\n-(void)commandModifyUser:(HealthUser *)tempUser DisposeHS5Result:(DisposeHS5Result)disposeHS5Result Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n")),(0,o.kt)("h3",{id:"delete-specified-user"},"Delete Specified User"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Delete Specified User\n * This will be used deleting account in HS5.\n *Import Parameters:\n    * @param tempUser  - included properties: serialNub\uff0cinstructions refer to \u201cnew user Api\u201d.\n *Return Parameters:\n    * @param disposeHS5Result   - Success:Yes\uff0cFail:No.\n    * @param disposeErrorBlock  - error codes in transmission proces: Errors in HS5\n */\n-(void)commandDelteUser:(HealthUser *)tempUser DisposeHS5Result:(DisposeHS5Result)disposeHS5Result Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n\n")),(0,o.kt)("h3",{id:"create-memory-upload-connection"},"Create memory upload connection"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n\n/**\n Create memory upload connection\n Import Parameters:\n @param tempUser included properties\uff1a serialNub [Range:0~0x7FFFFFFF]\uff0cinstructions refer to \u201cnew user Api\u201d.\n Return Parameters:\n @param disposeHS5Result Success:Yes\uff0cFail:No.\n @param startTransmission Finish memory transmission.\n @param progress Memory transmission progress\uff0c0.0\uff5e1.0.\n @param memorryData Record data\uff0cMore details and key refer Measure API. Additionally add time-measure property, related key: date.dataID\n @param finishTransmission Finish Memory Transmission\n @param disposeErrorBlock error codes in transmission process: Errors in HS5\n */\n-(void)commandCreateMemoryWithUser:(HealthUser *)tempUser uploadConnect: (DisposeHS5Result)disposeHS5Result TransferMemorryData:(StartHS5Transmission)startTransmission DisposeProgress:(DisposeHS5Progress)progress MemorryData:(MemorryHS5Data)memorryData FinishTransmission:(FinishHS5Transmission)finishTransmission Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n")),(0,o.kt)("h3",{id:"establish-measurement-connection"},"Establish Measurement Connection"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n/**\n * Establish Measurement Connection\n * Import Parameters:\n    * @param tempUser   - included properties: serialNub [Range:0~0x7FFFFFFF]\u3001height\uff0cinstructions refer to \u201cnew user Api\u201d.\n * Return Parameters:\n    * @param unStableHS5Weight  - Current weight, (kg) [Value Range:0.0~150.0]\n    * @param stableHS5Weight    - Stable weight, (kg) [Value Range:0.0~150.0]\n    * @param impedanceWeight    - Weight by impedence, (kg)[Value Range:0.0~150.0]\n    * @param bodyCompositionMeasurements  - body info, includes weight(kg) Range:0.0~150.0,  fat content(%) Rnage:0.0~100.0, water content(%) Range:0.0~100.0, muscle content(%) Rnage:0.0~100.0, bone mass Range:0.0~25.5, visceral fat level Range:0~255, DCI(Kcal) Range:0~65535. keys: weight, weightFatValue, waterValue, muscleValue, skeletonValue, VFatLevelValue, DCIValue, dataID\n    * @param disposeErrorBlock  - error codes in transmission process: Errors in HS5\n */\n\n-(void)commandCreateMeasureWithUser:(HealthUser *)tempUser unStableWeight:(UnStableHS5Weight)unStableHS5Weight MeasureWeight:(StableHS5Weight)stableHS5Weight ImpedanceType:(ImpedanceWeight)impedanceWeight BodyCompositionMeasurements:(BodyCompositionMeasurements)bodyCompositionMeasurements Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n\n\n")),(0,o.kt)("h3",{id:"stop-current-action-and-disconnect"},"Stop Current Action and disconnect"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"\n/**\n Stop Current Action and disconnect\n Return Parameters:\n @param disposeHS5Result Success:Yes\uff0cFail:No.\n @param disposeErrorBlock error codes in endCurrentConnect: Errors in HS5\n */\n-(void)commandEndCurrentConnect:(DisposeHS5Result)disposeHS5Result Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n\n")),(0,o.kt)("h3",{id:"delete-current-auten-device-and-then-rebuild-connection"},"Delete current Auten Device and then rebuild connection."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Clean HS5\n * Explanation:Delete current Auten Device and then rebuild connection.\n * Return Parameters:\n * @param disposeHS5Result  - Success:Yes\uff0cFail:No.\n * @param disposeErrorBlock  - error codes in transmission process: Errors in HS5\n */\n-(void)commandcleanDeviceDisposeHS5Result:(DisposeHS5Result)disposeHS5Result Disposehs5ErrorBlock:(DisposeHS5ErrorBlock)disposeErrorBlock;\n\n")),(0,o.kt)("h3",{id:"rebuild-udp-connection"},"Rebuild UDP connection"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/**\n * Rebuild UDP connection\n */\n-(void)commandRebuildUdpLinker;\n\n")))}m.isMDXComponent=!0}}]);