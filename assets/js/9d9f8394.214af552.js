"use strict";(self.webpackChunkdoc_sdk=self.webpackChunkdoc_sdk||[]).push([[360],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(r),m=o,h=p["".concat(c,".").concat(m)]||p[m]||d[m]||a;return r?n.createElement(h,i(i({ref:t},u),{},{components:r})):n.createElement(h,i({ref:t},u))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},9222:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return u},default:function(){return p}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),i=["components"],l={title:"Toubleshooting",sidebar_position:3},c=void 0,s={unversionedId:"troubleshooting",id:"troubleshooting",isDocsHomePage:!1,title:"Toubleshooting",description:"Troubleshooting",source:"@site/docs/troubleshooting.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/doc.sdk.ihealthlabs/docs/troubleshooting",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/troubleshooting.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Toubleshooting",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"TS28B",permalink:"/doc.sdk.ihealthlabs/docs/device/ts28b"}},u=[{value:"Troubleshooting",id:"troubleshooting",children:[]},{value:"Example",id:"example",children:[]}],d={toc:u};function p(e){var t=e.components,r=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,a.kt)("h4",{id:"for-android"},"For Android"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Check settings.gradle file in your android project and node_modules, make sure input the correct module path.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-gradle"},"include ':ihealthlibrary-react-native'\nproject(':ihealthlibrary-react-native').projectDir = new File(rootProject.projectDir,'../node_modules/@ihealth/ihealthlibrary-react-native/android')\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Check build.gradle file in your android project, make sure the ihealth module is \bintegrated")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-gradle"},"compile project(':@ihealth_ihealthlibrary-react-native')\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Import iHealth module in your MainActivity.java")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"protected List<ReactPackage> getPackages() {  \n    return Arrays.<ReactPackage>asList(\n        new MainReactPackage(),\n        new iHealthDeviceManagerPackage()\n    );  \n}\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Location permission(in AndroidManifest.xml)")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- Need ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission in Android API 23+ --\x3e\n<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />\n<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />\n')),(0,a.kt)("h4",{id:"for-ios"},"For iOS"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Open your iOS project, add node_modules/@ihealth/ihealthlibrary-react-native/ios/ReactNativeIOSLibrary.xcodeproj to libraries"),(0,a.kt)("li",{parentName:"ol"},"Under 'Build Phases' --  'Link Binary With Libraries', add libReactNativeIOSLibrary.a")),(0,a.kt)("h3",{id:"example"},"Example"),(0,a.kt)("p",null,"iHealth SDK module is based on DeviceEventEmitter, So call add listener while the component is loaded, and call remove listener while the component is unloaded, As show as below. If you want more detail information, Please the example code."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"componentDidMount() {\n    iHealthAPI.addListener();\n}\n\ncomponentWillUnmount() {\n    iHealthAPI.removeListener();\n}\n")),(0,a.kt)("h4",{id:"for-bluetooth-le-or-regular-bluetooth-device"},"For bluetooth LE or regular bluetooth device"),(0,a.kt)("h5",{id:"search-device"},"search device"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { iHealthDeviceManagerModule } from '@ihealth/ihealthlibrary-react-native';\nconst type = 'BP5'; // AM3S, AM4, BG5, BG5S, BP3L, BP5, BP5S, BP7S, HS2, HS4S, PO3,HS2S,BG1S\niHealthDeviceManagerModule.startDiscovery(type);\n")),(0,a.kt)("h5",{id:"connect-device"},"connect device"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import { iHealthDeviceManagerModule } from '@ihealth/ihealthlibrary-react-native';\nconst mac = 'xxxxxxxxxxxxxx';\nconst type = 'BP5'; // AM3S, AM4, BG5, BG5S, BP3L, BP5, BP5S, BP7S, HS2, HS4S, PO3,HS2S,BG1S\niHealthDeviceManagerModule.connectDevice(mac, type);\n")))}p.isMDXComponent=!0}}]);