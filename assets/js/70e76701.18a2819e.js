"use strict";(self.webpackChunkdoc_sdk=self.webpackChunkdoc_sdk||[]).push([[364],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),f=d(n),m=r,p=f["".concat(s,".").concat(m)]||f[m]||u[m]||i;return n?o.createElement(p,a(a({ref:t},c),{},{components:n})):o.createElement(p,a({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var d=2;d<i;d++)a[d]=n[d];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},8215:function(e,t,n){var o=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,r=e.className;return o.createElement("div",{role:"tabpanel",hidden:n,className:r},t)}},5064:function(e,t,n){n.d(t,{Z:function(){return d}});var o=n(7294),r=n(9443);var i=function(){var e=(0,o.useContext)(r.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},a=n(6010),l="tabItem_1uMI",s="tabItemActive_2DSg";var d=function(e){var t,n=e.lazy,r=e.block,d=e.defaultValue,c=e.values,u=e.groupId,f=e.className,m=o.Children.toArray(e.children),p=null!=c?c:m.map((function(e){return{value:e.props.value,label:e.props.label}})),v=null!=d?d:null==(t=m.find((function(e){return e.props.default})))?void 0:t.props.value,g=i(),b=g.tabGroupChoices,h=g.setTabGroupChoices,E=(0,o.useState)(v),y=E[0],k=E[1],T=[];if(null!=u){var N=b[u];null!=N&&N!==y&&p.some((function(e){return e.value===N}))&&k(N)}var G=function(e){var t=e.currentTarget,n=T.indexOf(t),o=p[n].value;k(o),null!=u&&(h(u,o),setTimeout((function(){var e,n,o,r,i,a,l,d;(e=t.getBoundingClientRect(),n=e.top,o=e.left,r=e.bottom,i=e.right,a=window,l=a.innerHeight,d=a.innerWidth,n>=0&&i<=d&&r<=l&&o>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(s),setTimeout((function(){return t.classList.remove(s)}),2e3))}),150))},B=function(e){var t,n=null;switch(e.key){case"ArrowRight":var o=T.indexOf(e.target)+1;n=T[o]||T[0];break;case"ArrowLeft":var r=T.indexOf(e.target)-1;n=T[r]||T[T.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":r},f)},p.map((function(e){var t=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,a.Z)("tabs__item",l,{"tabs__item--active":y===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:B,onFocus:G,onClick:G},null!=n?n:t)}))),n?(0,o.cloneElement)(m.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},m.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))}},9443:function(e,t,n){var o=(0,n(7294).createContext)(void 0);t.Z=o},3438:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return d},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return f},default:function(){return p}});var o=n(7462),r=n(3366),i=(n(7294),n(3905)),a=n(5064),l=n(8215),s=["components"],d={},c="BG5",u={unversionedId:"device/bg5",id:"device/bg5",isDocsHomePage:!1,title:"BG5",description:"Android Doc",source:"@site/docs/device/bg5.md",sourceDirName:"device",slug:"/device/bg5",permalink:"/doc.sdk.ihealthlabs/docs/device/bg5",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/device/bg5.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"BG1S",permalink:"/doc.sdk.ihealthlabs/docs/device/bg1s"},next:{title:"BG5S",permalink:"/doc.sdk.ihealthlabs/docs/device/bg5s"}},f=[{value:"APIs",id:"apis",children:[{value:"Add and remove listener",id:"add-and-remove-listener",children:[]},{value:"set time",id:"set-time",children:[]},{value:"set unit",id:"set-unit",children:[]},{value:"get bottle information from barcode",id:"get-bottle-information-from-barcode",children:[]},{value:"set bottle id",id:"set-bottle-id",children:[]},{value:"get bottle id",id:"get-bottle-id",children:[]},{value:"Set bottle message",id:"set-bottle-message",children:[]},{value:"get bottle message",id:"get-bottle-message",children:[]},{value:"start a measurement",id:"start-a-measurement",children:[]},{value:"get data stored in the bg5 device",id:"get-data-stored-in-the-bg5-device",children:[]},{value:"delete the data stored in the bg5 device",id:"delete-the-data-stored-in-the-bg5-device",children:[]},{value:"keep link with phone",id:"keep-link-with-phone",children:[]}]}],m={toc:f};function p(e){var t=e.components,n=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"bg5"},"BG5"),(0,i.kt)(a.Z,{mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"android",label:"Android",default:!0,mdxType:"TabItem"},(0,i.kt)("h4",{id:"android-doc"},"Android Doc")),(0,i.kt)(l.Z,{value:"ios",label:"iOS",mdxType:"TabItem"},(0,i.kt)("h4",{id:"ios-doc"},"iOS Doc")),(0,i.kt)(l.Z,{value:"reactnative",label:"React Native",mdxType:"TabItem"},"## Import BG5 Module",(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  BG5Module,\n  BGProfileModule\n} from '@ihealth/ihealthlibrary-react-native';\n")),(0,i.kt)("h2",{id:"apis"},"APIs"),(0,i.kt)("h3",{id:"add-and-remove-listener"},"Add and remove listener"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"// add\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    console.log(event);\n});\n\n// remove\nnotifyListener.remove();\n")),(0,i.kt)("h3",{id:"set-time"},"set time"),(0,i.kt)("p",null,"If you use new bg5 or it has not been used for a long time. You should sync current time with bg5."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'BG5Module.setTime(mac);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_SET_TIME) {\n        console.log("set time");\n    }\n});\n')),(0,i.kt)("h3",{id:"set-unit"},"set unit"),(0,i.kt)("p",null,"The API can change the unit of the bg5 display."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// 1: mmol/L 2: mg/dL\nBG5Module.setUnit(mac, 1);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_SET_UNIT) {\n        console.log("set unit");\n    }\n});\n')),(0,i.kt)("h3",{id:"get-bottle-information-from-barcode"},"get bottle information from barcode"),(0,i.kt)("p",null,"When you scan the barcode at the top of bottle, you can get a string. Pass the string to this API, you can get bottle id, Number of the strips and expire day."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"BG5Module.getBottleInfoFromQR(QRCode);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_CODE_ANALYSIS) {\n        console.log(event[BGProfileModule.STRIP_NUM_BG]);\n        console.log(event[BGProfileModule.STRIP_EXPIRETIME_BG]);\n        console.log(event[BGProfileModule.BOTTLEID_BG]);\n    }\n});\n")),(0,i.kt)("h3",{id:"set-bottle-id"},"set bottle id"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'BG5Module.getBottleInfoFromQR(QRCode);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_SET_BOTTLEID) {\n        console.log("Set bottleID");\n    }\n});\n')),(0,i.kt)("h3",{id:"get-bottle-id"},"get bottle id"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"BG5Module.getBottleInfoFromQR(QRCode);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_GET_BOTTLEID) {\n        console.log(event[BGProfileModule.GET_BOTTLEID]);\n    }\n});\n")),(0,i.kt)("h3",{id:"set-bottle-message"},"Set bottle message"),(0,i.kt)("p",null,"When you use a new bg5 device or you open a new strip bottle, must set bottle message to bg5 device."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'/**\n * mac         device mac address\n * stripType   1: GOD, 2: GDH\n * measureType 1: measure with real blood, 2: measure with control solution\n * barcode     for GOD strip, you can scan barcode at top of the bottle. for GDH strip, set null.\n * unusedStrip unused strip.\n * expireDay   check the expire day on the bottle, and stirp is expired after opening for 90 days.\n */\nBG5Module.setBottleMessage(mac, 1, 1, QRCode, 25, "2027-07-15");\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_SET_BOTTLEMESSAGE) {\n        console.log("set bottle message success");\n    }\n});\n')),(0,i.kt)("h3",{id:"get-bottle-message"},"get bottle message"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"BG5Module.getBottleMessage(mac);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_GET_BOTTLEMESSAGE) {\n        console.log(event[BGProfileModule.GET_EXPIRECTIME]);\n        console.log(event[BGProfileModule.GET_USENUM]);\n    }\n});\n")),(0,i.kt)("h3",{id:"start-a-measurement"},"start a measurement"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'// * measureType 1: measure with real blood, 2: measure with control solution\nBG5Module.startMeasure(mac, 1);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_STRIP_IN) {\n        console.log("strip in");\n\n    } else if (event.action === BGProfileModule.ACTION_STRIP_OUT) {\n        console.log("strip out");\n\n    } else if (event.action === BGProfileModule.ACTION_GET_BLOOD) {\n        console.log("analysis blood");\n\n    } else if (event.action === BGProfileModule.ACTION_ONLINE_RESULT_BG) {\n        console.log(event[BGProfileModule.ONLINE_RESULT_BG]);\n        console.log(event[BGProfileModule.DATA_ID]);\n    }\n});\n')),(0,i.kt)("h3",{id:"get-data-stored-in-the-bg5-device"},"get data stored in the bg5 device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"BG5Module.getOfflineData(mac);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_GET_OFFLINEDATA_COUNT) {\n        console.log(event[BGProfileModule.GET_OFFLINEDATA_COUNT]);\n        console.log(event[BGProfileModule.GET_OFFLINEDATA]);\n    }\n});\n")),(0,i.kt)("h3",{id:"delete-the-data-stored-in-the-bg5-device"},"delete the data stored in the bg5 device"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'BG5Module.deleteOfflineData(mac);\n\n// response\nnotifyListener = DeviceEventEmitter.addListener(BG5Module.Event_Notify,  (event) => {\n    if (event.action === BGProfileModule.ACTION_DELETE_OFFLINEDATA) {\n        console.log("delete data");\n    }\n});\n')),(0,i.kt)("h3",{id:"keep-link-with-phone"},"keep link with phone"),(0,i.kt)("p",null,"The BG5 use regular bluetooth communicate with phone. For save the power, if there is no communication, bg5 will turn off.\nThe api is used to keep link with phone."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"BG5Module.holdLink(mac);\n")))))}p.isMDXComponent=!0},6010:function(e,t,n){function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r}n.d(t,{Z:function(){return r}})}}]);